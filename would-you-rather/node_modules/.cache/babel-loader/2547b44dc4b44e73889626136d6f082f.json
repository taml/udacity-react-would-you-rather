{"ast":null,"code":"import { getInitialData, saveQuestionAnswer, saveQuestion } from '../../';\nimport { receiveUsers, addQuestionToUser, addAnswerToUser } from '../actions/users';\nimport { addQuestion, receiveQuestions, answerQuestion } from '../actions/questions';\nimport { setAuthedUser } from '../actions/authedUser';\nimport { showLoading, hideLoading } from 'react-redux-loading';\nconst AUTHED_ID = 'sarahedo';\nexport function handleInitialData() {\n  return dispatch => {\n    dispatch(showLoading());\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(setAuthedUser(AUTHED_ID));\n      dispatch(hideLoading());\n    });\n  };\n}\nexport function handleAddQuestion(optionOneText, optionTwoText) {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    dispatch(showLoading());\n    return saveQuestion({\n      author: authedUser,\n      optionOneText,\n      optionTwoText\n    }).then(question => dispatch(addQuestion(question))).then(question => dispatch(addQuestionToUser(question))).then(() => dispatch(hideLoading()));\n  };\n}\nexport function handleAnswerQuestion(answer) {\n  return dispatch => {\n    dispatch(answerQuestion(answer));\n    dispatch(addAnswerToUser(answer));\n    return saveQuestionAnswer(answer).catch(e => {\n      console.warn('Error in handleAnswerQuestion: ', e);\n      alert('There was an error saving your answer. Try again.');\n    });\n  };\n}","map":{"version":3,"sources":["/Users/tam/React/reactnd-project-would-you-rather-starter/would-you-rather/src/actions/shared.js"],"names":["getInitialData","saveQuestionAnswer","saveQuestion","receiveUsers","addQuestionToUser","addAnswerToUser","addQuestion","receiveQuestions","answerQuestion","setAuthedUser","showLoading","hideLoading","AUTHED_ID","handleInitialData","dispatch","then","users","questions","handleAddQuestion","optionOneText","optionTwoText","getState","authedUser","author","question","handleAnswerQuestion","answer","catch","e","console","warn","alert"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,kBAAzB,EAA6CC,YAA7C,QAAiE,QAAjE;AACA,SAASC,YAAT,EAAuBC,iBAAvB,EAA0CC,eAA1C,QAAiE,kBAAjE;AACA,SAASC,WAAT,EAAsBC,gBAAtB,EAAwCC,cAAxC,QAA8D,sBAA9D;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAEA,MAAMC,SAAS,GAAG,UAAlB;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAChC,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACA,WAAOV,cAAc,GAChBe,IADE,CACG,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAD,KAAwB;AAC1BH,MAAAA,QAAQ,CAACX,YAAY,CAACa,KAAD,CAAb,CAAR;AACAF,MAAAA,QAAQ,CAACP,gBAAgB,CAACU,SAAD,CAAjB,CAAR;AACAH,MAAAA,QAAQ,CAACL,aAAa,CAACG,SAAD,CAAd,CAAR;AACAE,MAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACH,KANE,CAAP;AAOH,GATD;AAUH;AAED,OAAO,SAASO,iBAAT,CAA2BC,aAA3B,EAA0CC,aAA1C,EAAyD;AAC5D,SAAO,CAACN,QAAD,EAAWO,QAAX,KAAwB;AAC3B,UAAM;AAAEC,MAAAA;AAAF,QAAiBD,QAAQ,EAA/B;AACAP,IAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACA,WAAOR,YAAY,CAAC;AAChBqB,MAAAA,MAAM,EAAED,UADQ;AAEhBH,MAAAA,aAFgB;AAGhBC,MAAAA;AAHgB,KAAD,CAAZ,CAKNL,IALM,CAKAS,QAAD,IAAcV,QAAQ,CAACR,WAAW,CAACkB,QAAD,CAAZ,CALrB,EAMNT,IANM,CAMAS,QAAD,IAAcV,QAAQ,CAACV,iBAAiB,CAACoB,QAAD,CAAlB,CANrB,EAONT,IAPM,CAOD,MAAMD,QAAQ,CAACH,WAAW,EAAZ,CAPb,CAAP;AAQH,GAXD;AAYH;AAED,OAAO,SAASc,oBAAT,CAA8BC,MAA9B,EAAsC;AACzC,SAAQZ,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACN,cAAc,CAACkB,MAAD,CAAf,CAAR;AACAZ,IAAAA,QAAQ,CAACT,eAAe,CAACqB,MAAD,CAAhB,CAAR;AACA,WAAOzB,kBAAkB,CAACyB,MAAD,CAAlB,CACNC,KADM,CACCC,CAAD,IAAO;AACVC,MAAAA,OAAO,CAACC,IAAR,CAAa,iCAAb,EAAgDF,CAAhD;AACAG,MAAAA,KAAK,CAAC,mDAAD,CAAL;AACH,KAJM,CAAP;AAKH,GARD;AASH","sourcesContent":["import { getInitialData, saveQuestionAnswer, saveQuestion } from '../../'\nimport { receiveUsers, addQuestionToUser, addAnswerToUser } from '../actions/users'\nimport { addQuestion, receiveQuestions, answerQuestion } from '../actions/questions'\nimport { setAuthedUser } from '../actions/authedUser'\nimport { showLoading, hideLoading } from 'react-redux-loading'\n\nconst AUTHED_ID = 'sarahedo'\n\nexport function handleInitialData() {\n    return (dispatch) => {\n        dispatch(showLoading())\n        return getInitialData()\n            .then(({users, questions}) => {\n                dispatch(receiveUsers(users))\n                dispatch(receiveQuestions(questions))\n                dispatch(setAuthedUser(AUTHED_ID))\n                dispatch(hideLoading())\n            })\n    }\n}\n\nexport function handleAddQuestion(optionOneText, optionTwoText) {\n    return (dispatch, getState) => {\n        const { authedUser } = getState()\n        dispatch(showLoading())\n        return saveQuestion({\n            author: authedUser,\n            optionOneText,\n            optionTwoText,\n        })\n        .then((question) => dispatch(addQuestion(question)))\n        .then((question) => dispatch(addQuestionToUser(question)))\n        .then(() => dispatch(hideLoading()))\n    }\n}\n\nexport function handleAnswerQuestion(answer) {\n    return (dispatch) => {\n        dispatch(answerQuestion(answer))\n        dispatch(addAnswerToUser(answer))\n        return saveQuestionAnswer(answer)\n        .catch((e) => {\n            console.warn('Error in handleAnswerQuestion: ', e)\n            alert('There was an error saving your answer. Try again.')\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}